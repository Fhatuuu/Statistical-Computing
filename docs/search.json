[
  {
    "objectID": "Practical One.html",
    "href": "Practical One.html",
    "title": "Practical One",
    "section": "",
    "text": "Fhatuwani Mokwenda\n\n\n\ndf &lt;- airquality\n\nChecking for nulls\n\nNaR = c()\nfor (rows in 1:nrow(df)){\n  \n  for (cols in 1: ncol(df)){\n    \n    if (is.na(df[rows, cols])){\n      NaR &lt;- c(NaR, rows)\n      \n    }\n  }\n  \n}\nprint(NaR)\n\n [1]   5   5   6  10  11  25  26  27  27  32  33  34  35  36  37  39  42  43  45\n[20]  46  52  53  54  55  56  57  58  59  60  61  65  72  75  83  84  96  97  98\n[39] 102 103 107 115 119 150\n\n\n\n\n\nFinding the mean, sd, min and, max of the Temperature and Ozone\n\n\n\n\n\nmean(df$Temp)\n\n[1] 77.88235\n\n\n\n\n\n\nsd(df$Temp)\n\n[1] 9.46527\n\n\n\n\n\nNote: Using Glue library for easy “fstrings”\n\nmin = min(df$Temp)\nmax = max(df$Temp)\n\nglue(\"max = {max}\")\n\nmax = 97\n\nglue(\"min = {min}\")\n\nmin = 56\n\n\n\n\n\n\nHave to remove NA rows first from df\n\nnew.df &lt;- df[-NaR,]\n\n\n\n\nmean(new.df$Ozone)\n\n[1] 42.0991\n\n\n\n\n\n\nsd(new.df$Ozone)\n\n[1] 33.27597\n\n\n\n\n\nNote: Using Glue library for easy “fstrings”\n\nmin = min(new.df$Ozone)\nmax = max(new.df$Ozone)\n\nglue(\"max = {max}\")\n\nmax = 168\n\nglue(\"min = {min}\")\n\nmin = 1\n\n\n\n\n\n\n\nLinear regression, but instead of using lm()… we’re using vector calculations!!!\n\n# predictor X -- no intercepts\nx &lt;- as.matrix(cars$speed)\n# response Y\ny &lt;- as.matrix(cars$dist)\n\n# Add a column of 1s to the predictor\nX &lt;- cbind(1, x)\n\n# beta calculation\nbeta_hat &lt;- solve(t(X) %*% X) %*% t(X) %*% y\nbeta_hat\n\n           [,1]\n[1,] -17.579095\n[2,]   3.932409\n\n\n\n\n\nChecking Part Three\n\ncoef(lm(dist~speed, data = cars))\n\n(Intercept)       speed \n -17.579095    3.932409 \n\n\nWe get the same thing !!!!!!!!\nThats it."
  },
  {
    "objectID": "Practical One.html#part-one",
    "href": "Practical One.html#part-one",
    "title": "Practical One",
    "section": "",
    "text": "df &lt;- airquality\n\nChecking for nulls\n\nNaR = c()\nfor (rows in 1:nrow(df)){\n  \n  for (cols in 1: ncol(df)){\n    \n    if (is.na(df[rows, cols])){\n      NaR &lt;- c(NaR, rows)\n      \n    }\n  }\n  \n}\nprint(NaR)\n\n [1]   5   5   6  10  11  25  26  27  27  32  33  34  35  36  37  39  42  43  45\n[20]  46  52  53  54  55  56  57  58  59  60  61  65  72  75  83  84  96  97  98\n[39] 102 103 107 115 119 150"
  },
  {
    "objectID": "Practical One.html#part-two",
    "href": "Practical One.html#part-two",
    "title": "Practical One",
    "section": "",
    "text": "Finding the mean, sd, min and, max of the Temperature and Ozone\n\n\n\n\n\nmean(df$Temp)\n\n[1] 77.88235\n\n\n\n\n\n\nsd(df$Temp)\n\n[1] 9.46527\n\n\n\n\n\nNote: Using Glue library for easy “fstrings”\n\nmin = min(df$Temp)\nmax = max(df$Temp)\n\nglue(\"max = {max}\")\n\nmax = 97\n\nglue(\"min = {min}\")\n\nmin = 56\n\n\n\n\n\n\nHave to remove NA rows first from df\n\nnew.df &lt;- df[-NaR,]\n\n\n\n\nmean(new.df$Ozone)\n\n[1] 42.0991\n\n\n\n\n\n\nsd(new.df$Ozone)\n\n[1] 33.27597\n\n\n\n\n\nNote: Using Glue library for easy “fstrings”\n\nmin = min(new.df$Ozone)\nmax = max(new.df$Ozone)\n\nglue(\"max = {max}\")\n\nmax = 168\n\nglue(\"min = {min}\")\n\nmin = 1"
  },
  {
    "objectID": "Practical One.html#part-three",
    "href": "Practical One.html#part-three",
    "title": "Practical One",
    "section": "",
    "text": "Linear regression, but instead of using lm()… we’re using vector calculations!!!\n\n# predictor X -- no intercepts\nx &lt;- as.matrix(cars$speed)\n# response Y\ny &lt;- as.matrix(cars$dist)\n\n# Add a column of 1s to the predictor\nX &lt;- cbind(1, x)\n\n# beta calculation\nbeta_hat &lt;- solve(t(X) %*% X) %*% t(X) %*% y\nbeta_hat\n\n           [,1]\n[1,] -17.579095\n[2,]   3.932409"
  },
  {
    "objectID": "Practical One.html#part-four",
    "href": "Practical One.html#part-four",
    "title": "Practical One",
    "section": "",
    "text": "Checking Part Three\n\ncoef(lm(dist~speed, data = cars))\n\n(Intercept)       speed \n -17.579095    3.932409 \n\n\nWe get the same thing !!!!!!!!\nThats it."
  },
  {
    "objectID": "Prac Three.html",
    "href": "Prac Three.html",
    "title": "Prac Three",
    "section": "",
    "text": "Plot the function \\(f(x) = \\sin(x)\\) for \\(x \\in [-2, 2]\\).\n\nplot(sin, -2, 2)\n\n\n\n\n\n\n\n\n\n\n\nGenerate 1000 values from a \\(t\\)-distribution with 1 degree of freedom.\nConstruct a QQ-plot with 95% probability bands (envelopes) to check whether the above values come from a standard normal distribution. You can only use use rnorm(), but not qnorm, dnorm, pnorm, or R’s qqplot functions.\n\n#step 1: generate random values from t-dist w/ 1 dof\nset.seed(2025)\nn = 1000\nt.samples &lt;- rt(n, df = 1)\nt.sorted &lt;- sort(t.samples)\n\n# Plotting positionn\nplot_pos &lt;- (1: n - 0.5) / n\n\n\n# step 2: simulate normal samples.\nm = 100000\nnorm.samples &lt;- sort(rnorm(m))\n\n# Approximating theoretical quantiles\ntheoretical_q &lt;- norm.samples[ceiling(plot_pos * m)]\n\n# Function to calculate the normal pdf \n\nnorm_pdf &lt;- function(z_vals) {\n  \n  (1 / sqrt(2 * pi) * exp(-z_vals^2 / 2))\n  \n}\n\nse &lt;- sqrt(plot_pos * (1 - plot_pos)) / (sqrt(n) * norm_pdf(theoretical_q))\n\n# 95% envelopes\nalpha &lt;- 1.96\nlower &lt;- theoretical_q + alpha * se\nupper &lt;- theoretical_q - alpha * se\n\nNow that we got our samples and envelopes, we’re going to plot the t-values and then fit a straight line for the normals\n\nplot( theoretical_q, t.sorted,\n      pch = 20, cex = 0.6,\n      xlab = \"Theoretical Normal Quantiles\",\n      ylab = \"Sample Quantiles (t w/ df = 1)\",\n      main = \"Normal QQ Plot w/ 95% Envelopes\",\n      ylim = c(-5, 5)\n      )\n\nlines(theoretical_q, lower, col = \"red\", lwd = 2)\nlines(theoretical_q, upper, col = \"red\", lwd = 2)\nabline(0, 1,col = \"blue\" ,lwd = 2)\n\n\n\n\n\n\n\n\n\n\n\nlibrary(car)\nset.seed(2025)\nx &lt;- rt(1000, df =1)\nqqPlot(x, envelope = 0.95, ylim = c(-5, 5))\n\n\n\n\n\n\n\n\n[1] 714 486\n\n\nThat’s it."
  },
  {
    "objectID": "Prac Three.html#plot-curve-function",
    "href": "Prac Three.html#plot-curve-function",
    "title": "Prac Three",
    "section": "",
    "text": "Plot the function \\(f(x) = \\sin(x)\\) for \\(x \\in [-2, 2]\\).\n\nplot(sin, -2, 2)"
  },
  {
    "objectID": "Prac Three.html#qq-plot",
    "href": "Prac Three.html#qq-plot",
    "title": "Prac Three",
    "section": "",
    "text": "Generate 1000 values from a \\(t\\)-distribution with 1 degree of freedom.\nConstruct a QQ-plot with 95% probability bands (envelopes) to check whether the above values come from a standard normal distribution. You can only use use rnorm(), but not qnorm, dnorm, pnorm, or R’s qqplot functions.\n\n#step 1: generate random values from t-dist w/ 1 dof\nset.seed(2025)\nn = 1000\nt.samples &lt;- rt(n, df = 1)\nt.sorted &lt;- sort(t.samples)\n\n# Plotting positionn\nplot_pos &lt;- (1: n - 0.5) / n\n\n\n# step 2: simulate normal samples.\nm = 100000\nnorm.samples &lt;- sort(rnorm(m))\n\n# Approximating theoretical quantiles\ntheoretical_q &lt;- norm.samples[ceiling(plot_pos * m)]\n\n# Function to calculate the normal pdf \n\nnorm_pdf &lt;- function(z_vals) {\n  \n  (1 / sqrt(2 * pi) * exp(-z_vals^2 / 2))\n  \n}\n\nse &lt;- sqrt(plot_pos * (1 - plot_pos)) / (sqrt(n) * norm_pdf(theoretical_q))\n\n# 95% envelopes\nalpha &lt;- 1.96\nlower &lt;- theoretical_q + alpha * se\nupper &lt;- theoretical_q - alpha * se\n\nNow that we got our samples and envelopes, we’re going to plot the t-values and then fit a straight line for the normals\n\nplot( theoretical_q, t.sorted,\n      pch = 20, cex = 0.6,\n      xlab = \"Theoretical Normal Quantiles\",\n      ylab = \"Sample Quantiles (t w/ df = 1)\",\n      main = \"Normal QQ Plot w/ 95% Envelopes\",\n      ylim = c(-5, 5)\n      )\n\nlines(theoretical_q, lower, col = \"red\", lwd = 2)\nlines(theoretical_q, upper, col = \"red\", lwd = 2)\nabline(0, 1,col = \"blue\" ,lwd = 2)\n\n\n\n\n\n\n\n\n\n\n\nlibrary(car)\nset.seed(2025)\nx &lt;- rt(1000, df =1)\nqqPlot(x, envelope = 0.95, ylim = c(-5, 5))\n\n\n\n\n\n\n\n\n[1] 714 486\n\n\nThat’s it."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Peer Assignment 1",
    "section": "",
    "text": "The amount of time I spent on this should be illegal. Happy reading."
  },
  {
    "objectID": "Practical Four.html",
    "href": "Practical Four.html",
    "title": "Practical Four",
    "section": "",
    "text": "Displaying the flights dataset.\n\n# Note -- already a tibble object so no need to convert!\ndata &lt;- flights\nclass(data)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\nShowing the flights data:\n\ndata\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "Practical Four.html#question-one",
    "href": "Practical Four.html#question-one",
    "title": "Practical Four",
    "section": "",
    "text": "Displaying the flights dataset.\n\n# Note -- already a tibble object so no need to convert!\ndata &lt;- flights\nclass(data)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\nShowing the flights data:\n\ndata\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;"
  },
  {
    "objectID": "Practical Four.html#question-two",
    "href": "Practical Four.html#question-two",
    "title": "Practical Four",
    "section": "Question Two",
    "text": "Question Two\n\nUnderstanding this code cause wth…\n\nflight1 &lt;- flights[flights$month == 1, ]\ncarrier_vec &lt;- unique(flight1$carrier)\n\ncarrier_dist_vec_mean &lt;- numeric(length(carrier_vec))\ncarrier_dist_vec_sd &lt;- numeric(length(carrier_vec))\nfor (i in seq_along(carrier_vec)) {\n  carrier_dist_vec_mean[i] &lt;- mean(\n    flight1$distance[flight1$carrier == carrier_vec[i]]\n   )\n  carrier_dist_vec_sd[i] &lt;- sd(\n    flight1$distance[flight1$carrier == carrier_vec[i]]\n  )\n}\ndist_tbl &lt;- tibble(\n  carrier = carrier_vec,\n  mean_distance = carrier_dist_vec_mean,\n  sd_distance = carrier_dist_vec_sd\n)\ndist_tbl[order(dist_tbl$mean_distance), ]\n\n# A tibble: 16 × 3\n   carrier mean_distance sd_distance\n   &lt;chr&gt;           &lt;dbl&gt;       &lt;dbl&gt;\n 1 YV               229          0  \n 2 9E               476.       334. \n 3 EV               522.       294. \n 4 US               536.       553. \n 5 MQ               566.       223. \n 6 FL               691.       142. \n 7 OO               733         NA  \n 8 WN               942.       496. \n 9 B6              1062.       681. \n10 DL              1220.       644. \n11 AA              1350.       626. \n12 UA              1462.       778. \n13 F9              1620          0  \n14 AS              2402          0  \n15 VX              2495.        98.2\n16 HA              4983          0  \n\n\nWhat this code actually does:\n\nflights1 is columns wherein month is = 1\ncarries_vec is a vector of all flight carriers in month 1\nfor loop: essentially for each of the unique carries, calculate the mean and standard deviation and store them in carrier_dist_vec_mean/sd respectively\nthe a tibble object is made where it is a matrix(IG) with columns carrier, mean_distance &, sd_distance\nfinal line is ordering the data by an ascending order of the means.\n\n\n\nWriting the above code using dplyr\n\ndata |&gt; \n  filter(month == 1) |&gt; \n  group_by(carrier) |&gt; \n  summarise( mean_distance = mean(distance, na.rm = TRUE),\n             sd_distance = sd(distance, na.rm = TRUE)) |&gt; \n  arrange(mean_distance)\n\n# A tibble: 16 × 3\n   carrier mean_distance sd_distance\n   &lt;chr&gt;           &lt;dbl&gt;       &lt;dbl&gt;\n 1 YV               229          0  \n 2 9E               476.       334. \n 3 EV               522.       294. \n 4 US               536.       553. \n 5 MQ               566.       223. \n 6 FL               691.       142. \n 7 OO               733         NA  \n 8 WN               942.       496. \n 9 B6              1062.       681. \n10 DL              1220.       644. \n11 AA              1350.       626. \n12 UA              1462.       778. \n13 F9              1620          0  \n14 AS              2402          0  \n15 VX              2495.        98.2\n16 HA              4983          0"
  },
  {
    "objectID": "Practical Four.html#question-three",
    "href": "Practical Four.html#question-three",
    "title": "Practical Four",
    "section": "Question Three",
    "text": "Question Three\n\nWhy is the sd for the carrier OO equals to NA?\nOff of the formula for standard deviation: \\[ sd = \\sqrt{\\frac{1}{n-1}\\sum_{i=1}^n (x_i - \\bar{x})^2}\\] If the carrier OO has fewer than 2 observations, then the function is undefined:\n\ndata |&gt; \n  filter(carrier == \"OO\", month == 1)\n\n# A tibble: 1 × 19\n   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n1  2013     1    30     1222           1115        67     1402           1215\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\nSo this carrier has one observation!! Thus it does not have any deviation for the month 1."
  },
  {
    "objectID": "Practical Four.html#question-four",
    "href": "Practical Four.html#question-four",
    "title": "Practical Four",
    "section": "Question Four",
    "text": "Question Four\nCalculating the average departure delay of each carrier in each month\n\ndata |&gt; \n  group_by(month, carrier) |&gt; \n  summarise(\n    dep_delay_mean = mean(dep_delay, na.rm = TRUE), .groups = \"drop\" ) |&gt;\n  pivot_wider(\n    names_from = carrier,\n    values_from = dep_delay_mean\n  )\n\n# A tibble: 12 × 17\n   month  `9E`    AA     AS    B6    DL    EV    F9    FL    HA    MQ    OO\n   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1     1 16.9   6.93  7.35   9.49  3.85 24.2  10     1.97 54.4   6.49 67   \n 2     2 16.5   8.28  0.722 13.8   5.54 21.5  29.8   5.18 17.4   8.09 NA   \n 3     3 13.4   8.70  8.42  14.2   9.93 26.2  16.8  17.3   1.16  7.19 NA   \n 4     4 13.6  11.7  11.3   15.2   8.17 22.8  24.6  13.1  -2.1  13.7  NA   \n 5     5 22.7   9.66  6.77   9.78  9.74 20.2  35.9  19.2  -1.45 13.9  NA   \n 6     6 29.0  14.6  13.1   20.4  18.7  25.5  29.4  38.8   1.47 20.8  61   \n 7     7 31.4  12.1   2.42  24.9  20.6  26.5  31.8  41.2  -1.71 20.7  NA   \n 8     8 17.3   7.17  2.87  15.7   9.85 16.3  22.2  23.4   1.68 10.1  64   \n 9     9  7.75  5.69 -4.52   6.63  5.53  8.24  8.26 16.9  -5.44  5.35 -4.94\n10    10  9.33  3.00  0.677  2.96  3.42 13.4   9.70 13.7  -5.10  4.48 NA   \n11    11  7.56  3.10  3.08   3.52  2.85  9.83 13.5  16.9  -5.44  3.28  0.8 \n12    12 19.8  11.7  18.0   17.0  10.8  27.9  13.1  26.1  -3.14 12.7  NA   \n# ℹ 5 more variables: UA &lt;dbl&gt;, US &lt;dbl&gt;, VX &lt;dbl&gt;, WN &lt;dbl&gt;, YV &lt;dbl&gt;"
  },
  {
    "objectID": "Practical Four.html#question-five",
    "href": "Practical Four.html#question-five",
    "title": "Practical Four",
    "section": "Question Five",
    "text": "Question Five\nCalculating the proportion of flights that were delayed but still arrived on time or earlier.\n\ndata |&gt; \n  summarise(\n    not_late_flights = sum(dep_delay &gt; 0 & arr_delay &lt;= 0, na.rm = TRUE) / n()\n  )\n\n# A tibble: 1 × 1\n  not_late_flights\n             &lt;dbl&gt;\n1            0.105"
  },
  {
    "objectID": "Practical Four.html#question-six",
    "href": "Practical Four.html#question-six",
    "title": "Practical Four",
    "section": "Question Six",
    "text": "Question Six\nWorking with the airlines and flights datasets\n\nair_data &lt;- airlines\nair_data\n\n# A tibble: 16 × 2\n   carrier name                       \n   &lt;chr&gt;   &lt;chr&gt;                      \n 1 9E      Endeavor Air Inc.          \n 2 AA      American Airlines Inc.     \n 3 AS      Alaska Airlines Inc.       \n 4 B6      JetBlue Airways            \n 5 DL      Delta Air Lines Inc.       \n 6 EV      ExpressJet Airlines Inc.   \n 7 F9      Frontier Airlines Inc.     \n 8 FL      AirTran Airways Corporation\n 9 HA      Hawaiian Airlines Inc.     \n10 MQ      Envoy Air                  \n11 OO      SkyWest Airlines Inc.      \n12 UA      United Air Lines Inc.      \n13 US      US Airways Inc.            \n14 VX      Virgin America             \n15 WN      Southwest Airlines Co.     \n16 YV      Mesa Airlines Inc.         \n\n\n\nIdentifying routes that more than one airline flies\n\n# join the two datasets \nfull_data &lt;-full_join(data, air_data, by = \"carrier\" )\n\n# getting origin & destination wherein more than one carrier flies\nmulti_carrier_routes &lt;- data |&gt; \n  group_by(origin, dest) |&gt; \n  filter(n_distinct(carrier) &gt; 1)\nmulti_carrier_routes\n\n# A tibble: 276,735 × 19\n# Groups:   origin, dest [128]\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      542            540         2      923            850\n 2  2013     1     1      554            600        -6      812            837\n 3  2013     1     1      554            558        -4      740            728\n 4  2013     1     1      555            600        -5      913            854\n 5  2013     1     1      557            600        -3      709            723\n 6  2013     1     1      557            600        -3      838            846\n 7  2013     1     1      558            600        -2      753            745\n 8  2013     1     1      558            600        -2      853            856\n 9  2013     1     1      558            600        -2      924            917\n10  2013     1     1      558            600        -2      923            937\n# ℹ 276,725 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\nCalculating the avg arrival delay for each airline\nUsing multi_carrier_routes\n\nsummary_routes &lt;- multi_carrier_routes |&gt; \n  group_by(origin, dest, carrier) |&gt; \n  summarise(\n    avg_delay = mean(arr_delay, na.rm = TRUE),\n    .groups = \"drop\"\n  ) |&gt; \n  arrange(avg_delay)\n\nsummary_routes\n\n# A tibble: 343 × 4\n   origin dest  carrier avg_delay\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;\n 1 LGA    MSY   9E          -29  \n 2 JFK    BNA   DL          -27  \n 3 LGA    IND   DL          -26.5\n 4 JFK    STT   DL          -25.9\n 5 EWR    IAD   UA          -24  \n 6 LGA    CMH   9E          -23  \n 7 LGA    STL   EV          -23  \n 8 EWR    OMA   UA          -20.5\n 9 EWR    TPA   EV          -20  \n10 LGA    DFW   EV          -19.9\n# ℹ 333 more rows\n\n\n\n\nWho’s the best and, who is the worst?\nI added a delay_difference column so I don’t have to repeat this entire thing in step 7\n\nbest_worst_carrier &lt;- summary_routes |&gt; \n  group_by(origin, dest) |&gt; \n  summarise(\n    best_carrier = carrier[which.min(avg_delay)],\n    best_arr_delay = min(avg_delay),\n    worst_carrier = carrier[which.max(avg_delay)],\n    worst_arr_delay = max(avg_delay),\n    delay_diff = worst_arr_delay - best_arr_delay, # difference\n    .groups = \"drop\"\n  )\nbest_worst_carrier\n\n# A tibble: 128 × 7\n   origin dest  best_carrier best_arr_delay worst_carrier worst_arr_delay\n   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;                   &lt;dbl&gt;\n 1 EWR    ATL   9E                   -6.25  EV                      19.5 \n 2 EWR    AUS   WN                  -11.2   UA                       4.28\n 3 EWR    BDL   EV                    6.78  UA                      22.6 \n 4 EWR    BNA   WN                   -2.13  EV                      17.7 \n 5 EWR    BOS   EV                   -4.01  B6                       6.87\n 6 EWR    BWI   WN                    5.95  EV                      20.1 \n 7 EWR    CHS   UA                  -14     EV                      16.2 \n 8 EWR    CLE   EV                   -3.71  UA                       5.97\n 9 EWR    CLT   US                    0.920 EV                      20.5 \n10 EWR    CVG   9E                    1.40  EV                      21.2 \n# ℹ 118 more rows\n# ℹ 1 more variable: delay_diff &lt;dbl&gt;\n\n\n\n\nCalculating differences\n\nbest_worst_carrier |&gt; \n  slice_max(delay_diff, n = 1, with_ties = FALSE)\n\n# A tibble: 1 × 7\n  origin dest  best_carrier best_arr_delay worst_carrier worst_arr_delay\n  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;                   &lt;dbl&gt;\n1 JFK    ATL   9E                     1.40 EV                        128\n# ℹ 1 more variable: delay_diff &lt;dbl&gt;\n\n\n\n\nWhy the difference?\nThe worst performing airline on route JKF to ATL is EV, while the best performing is 9E.\nThe difference in the arrival delay could be because of the times in which these flights are scheduled for each airline.\n\nfull_data |&gt; \n  filter(origin == \"JFK\", dest == \"ATL\")\n\n# A tibble: 1,930 × 20\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      606            610        -4      837            845\n 2  2013     1     1      807            810        -3     1043           1043\n 3  2013     1     1     1325           1330        -5     1606           1605\n 4  2013     1     1     1621           1548        33     1904           1830\n 5  2013     1     1     1856           1855         1     2142           2142\n 6  2013     1     2      606            610        -4      846            845\n 7  2013     1     2      808            810        -2     1049           1045\n 8  2013     1     2     1324           1330        -6     1552           1605\n 9  2013     1     2     1551           1548         3     1838           1830\n10  2013     1     2     1854           1855        -1     2126           2142\n# ℹ 1,920 more rows\n# ℹ 12 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, name &lt;chr&gt;"
  },
  {
    "objectID": "Practical Four.html#question-seven",
    "href": "Practical Four.html#question-seven",
    "title": "Practical Four",
    "section": "Question Seven",
    "text": "Question Seven\nThat’s it."
  }
]